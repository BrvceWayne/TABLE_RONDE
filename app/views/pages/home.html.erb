<%#
  HOME PAGE - Style App Minimaliste

  Animation :
  1. L'icÃ´ne assiette apparaÃ®t en premier (scale + fade)
  2. Le texte "TableR" slide depuis la gauche
  3. Le texte "nde" slide depuis la droite
  4. La tagline et le CTA apparaissent ensuite
%>

<div class="home">
  <div class="home__content">
    <%# Logo animÃ© - structure sÃ©parÃ©e pour l'animation %>
    <div class="home__logo">
      <span class="home__logo-left">TableR</span>
      <span class="home__logo-icon">
        <span class="home__logo-fork"></span>
        <span class="home__logo-circle"></span>
        <span class="home__logo-knife"></span>
      </span>
      <span class="home__logo-right">nde</span>
    </div>

    <%# Tagline %>
    <p class="home__tagline">
      Trouvez le resto parfait<br>pour votre groupe
    </p>

    <%# CTA Button %>
    <%= link_to new_session_path, class: "home__cta" do %>
      On mange oÃ¹ ?
    <% end %>

    <%# Join Session - Bouton qui se transforme en input %>
    <div class="home__join" data-controller="join-input">
      <%# Bouton initial %>
      <button type="button" class="home__join-trigger" data-join-input-target="trigger" data-action="click->join-input#expand">
        <span class="home__join-trigger-icon">ğŸŸï¸</span>
        <span>Rejoindre une session</span>
      </button>

      <%# Formulaire cachÃ© qui apparaÃ®t %>
      <%= form_with url: "/join", method: :get, class: "home__join-form", local: true, data: { join_input_target: "form" } do |f| %>
        <%= f.text_field :share_code,
            placeholder: "Entrez le code",
            class: "home__join-input",
            maxlength: 8,
            autocomplete: "off",
            autocapitalize: "characters",
            spellcheck: false,
            data: { join_input_target: "input", action: "keyup->join-input#handleInput" },
            required: true %>
        <button type="submit" class="home__join-submit" data-join-input-target="submit" disabled>
          <span>â†’</span>
        </button>
        <button type="button" class="home__join-cancel" data-action="click->join-input#collapse">
          <span>âœ•</span>
        </button>
      <% end %>
    </div>
  </div>

  <%# Footer discret %>
  <footer class="home__footer">
    <p>Votez ensemble, mangez heureux</p>
  </footer>
</div>
